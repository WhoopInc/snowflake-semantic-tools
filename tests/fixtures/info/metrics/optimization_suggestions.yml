snowflake_metrics:
  - name: could_be_optimized
    description: "Metric that could be optimized with better indexing"
    expr: "COUNT(DISTINCT {{ column('large_table', 'unindexed_column') }})"
    tables:
      - "{{ table('large_table') }}"
  
  - name: metric_composition_opportunity
    description: "Metric that could benefit from composition"
    expr: "SUM({{ column('orders', 'amount') }}) / COUNT({{ column('orders', 'id') }})"
    tables:
      - "{{ table('orders') }}"
    # INFO: Could be composed from total_revenue and order_count metrics
