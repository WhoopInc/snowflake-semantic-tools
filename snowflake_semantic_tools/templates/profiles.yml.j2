# dbt Profile Configuration
# Generated by: sst init
# Documentation: https://docs.getdbt.com/docs/core/connect-data-platform/snowflake-setup

{{ profile_name }}:
  target: {{ default_target }}
  outputs:
    {{ default_target }}:
      type: snowflake
      account: {{ account }}
      user: {{ user }}
{% if auth_method == 'sso' %}
      authenticator: externalbrowser
{% elif auth_method == 'password' %}
      # Set this environment variable: export SNOWFLAKE_PASSWORD='your_password'
      password: "{{ '{{' }} env_var('SNOWFLAKE_PASSWORD') {{ '}}' }}"
{% elif auth_method == 'keypair' %}
      private_key_path: {{ private_key_path }}
      # If your key has a passphrase, set: export SNOWFLAKE_PRIVATE_KEY_PASSPHRASE='your_passphrase'
      private_key_passphrase: "{{ '{{' }} env_var('SNOWFLAKE_PRIVATE_KEY_PASSPHRASE', '') {{ '}}' }}"
{% endif %}
      role: {{ role }}
      warehouse: {{ warehouse }}
      database: {{ database }}
      schema: {{ schema }}
      threads: 4

