# Snowflake Semantic Tools Configuration
# Place in your dbt project root as `sst_config.yml` (safe to commit)

# ============================================================================
# PROJECT PATHS (Required)
# ============================================================================
project:
  semantic_models_dir: "snowflake_semantic_models"  # Where metrics, relationships, etc. live
  dbt_models_dir: "models"                          # Where dbt models live

# ============================================================================
# VALIDATION (Optional)
# ============================================================================
validation:
  strict: false                                     # If true, warnings block deployment (use in CI/CD)
  
  exclude_dirs:                                     # Paths to skip during validation
    - "_intermediate"                               # Exclude any dir named "_intermediate"
    - "staging"                                     # Exclude any dir named "staging"
    - "models/legacy/*"                             # Exclude specific path pattern

# ============================================================================
# ENRICHMENT (Optional)
# ============================================================================
enrichment:
  distinct_limit: 25                                # Distinct values to fetch from Snowflake
  sample_values_display_limit: 10                   # Sample values to show in YAML files
  synonym_max_count: 4                              # Maximum synonyms per table/column
  synonym_model: 'mistral-large2'                   # Snowflake Cortex LLM model for synonym generation      
  # Default: mistral-large2 (universally available on AWS, Azure, GCP)
  #
  # Check model availability for your region:
  #   https://docs.snowflake.com/en/user-guide/snowflake-cortex/llm-functions#availability

# ============================================================================
# DEFER (Optional)
# ============================================================================
# Configure default defer behavior for generate and deploy commands.
# Defer allows views to reference tables from a different target (e.g., prod)
# while deploying to dev - useful for development without rebuilding all tables.
#
# defer:
#   target: prod                                    # Default defer target (e.g., 'prod')
#   state_path: null                                # Path to state artifacts (for dbt Cloud CLI users)
#   auto_compile: false                             # For dbt Core: auto-compile manifest if not found
#
# Usage examples:
#   sst generate --all --defer-target prod          # Reference prod tables
#   sst generate --all --defer-target prod --only-modified  # Only changed models
#   sst deploy --defer-target prod                  # Full deploy with prod references
#
# For dbt Cloud CLI users: Set state_path to your downloaded artifacts directory
#   defer:
#     target: prod
#     state_path: ./prod_run_artifacts              # Downloaded from dbt Cloud